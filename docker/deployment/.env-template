#
# Copyright (c) 2025-2025 Ricardo do Canto
#
# This file is part of the EnduranceTrio Tracker project.
#
# Licensed under the Functional Software License (FSL), Version 1.1, ALv2 Future License
# (the "License");
#
# You may not use this file except in compliance with the License. You may obtain a copy
# of the License at https://fsl.software/
#
# THE SOFTWARE IS PROVIDED "AS IS" AND WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING WITHOUT LIMITATION WARRANTIES OF FITNESS FOR A PARTICULAR
# PURPOSE, MERCHANTABILITY, TITLE OR NON-INFRINGEMENT.
#
# IN NO EVENT WILL WE HAVE ANY LIABILITY TO YOU ARISING OUT OF OR RELATED TO THE
# SOFTWARE, INCLUDING INDIRECT, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES,
# EVEN IF WE HAVE BEEN INFORMED OF THEIR POSSIBILITY IN ADVANCE.
#

#
# Environment Configuration Template
# ==================================
#
# This file serves as a template for the .env file that contains all environment-specific
# configuration including sensitive information like database credentials and secrets.
#
# IMPORTANT SECURITY NOTES:
# - Copy this file to .env and NEVER commit the .env file to version control
# - The .env file is automatically excluded via .gitignore for security
# - For production deployments, consider using Docker Secrets or a proper secret manager
#
# Usage Instructions:
# -------------------
# Step 1: Copy this template to create the .env file, using the following command:
#         cp .env-template .env
#
# Step 2: Fill in all the variables values with the actual required configuration
#
# Step 3: Ensure that .env file is listed in the .gitignore file
#

# Container Image Configuration
# -----------------------------
# VERSION: Container image version tag from GitHub Container Registry
# Format: sha-<commit_hash> | latest | vX.Y.Z
# Examples: sha-67c6467, v0.0.1, latest
# Important: Avoid 'latest' in production for stability
VERSION=

# Container Security & User Context
# ---------------------------------
# PUID: User ID under which the container process runs
# Purpose: Controls file permissions for volumes and security context
# Recommendation: Use non-root user for security
PUID=

# PGID: Group ID under which the container process runs
# Purpose: Controls group permissions for volumes and process security
# Recommendation: Match PUID with corresponding group
PGID=

# Application Profile & Port Configuration
# ----------------------------------------
# SPRING_PROFILES_ACTIVE: Sets the Spring Boot profile (local, dev, prod, etc.)
# This controls which application properties are loaded and application behavior
SPRING_PROFILES_ACTIVE=

# TRACKER_EXT_PORT: External port on the Docker host for accessing the application
# Purpose: Maps the container's service port to a port on the host machine
# Format: Any available port number (1024-65535)
# Security: Ensure this port is properly firewalled in production
TRACKER_EXT_PORT=

# TRACKER_INT_PORT: Internal port within the container where the application runs
# Purpose: Must match the Spring Boot server.port configuration
# Important: This should NOT be changed unless you modify application.yaml and rebuild the image
# Default: 8081 (as configured in application.yaml server.port)
TRACKER_INT_PORT=8081

# Database Configuration
# ----------------------
# DB_USERNAME: Database username for application database connections
# This user should have appropriate permissions for the tracker database
DB_USERNAME=

# DB_SECRET: Database password for the specified username
# Ensure this is a strong password and kept secure
DB_SECRET=

# CORS Configuration
# ------------------
# CORS_ALLOWED_ORIGINS: Comma-separated list of CORS Allowed Origins
# Purpose: Controls which web origins are permitted to make cross-origin requests to the API
# Format: Comma-separated URLs without spaces; Must include protocol (http/https) and port
          if non-standard (not 80/443), (e.g., http://localhost:3000)
# Security: Restrict to specific trusted domains in production; avoid wildcards (*)
CORS_ALLOWED_ORIGINS=

# First Tracker Account Initialization
# ------------------------------------
# These variables are used for automatic creation of the initial tracker account
# on first application startup. Check the "API Key Management" section of the README.md file for
# further information.
#
# FIRST_OWNER: The display name/identifier for the first tracker account
# This will be the owner name shown in the tracking system
FIRST_OWNER=

# FIRST_HASH: The cryptographic hash of the tracker key/password
# This must be a securely hashed version of the first account authentication key
#
# Security Protocol:
# This sensitive value should be provided as a temporary environment variable
# rather than persisted in the .env file to reduce attack surface.
#
# Usage:
#   Step 1: Temporarily set the variable:
#           export FIRST_HASH=key_hash_here
#   Step 2: Deploy the application:
#           docker compose -p endurancetrio-tracker up -d
#   Step 3: Check the logs and ensure that the application initialization is completed:
#           docker logs endurancetrio-tracker
#   Step 4: Immediately clear the variable value from memory:
#           unset FIRST_HASH
#
